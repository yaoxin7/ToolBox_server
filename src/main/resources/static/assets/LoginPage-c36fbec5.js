import{l as E,E as L}from"./el-button-e63b366d.js";import{E as I}from"./el-link-c38c2970.js";import{E as T,a as U}from"./el-form-item-5e871bc7.js";import{E as z}from"./el-input-6f8a8ef8.js";import{_ as C,u as P,r as w,w as R,o as d,c as u,a as g,b as a,d as l,T as $,n as c,e as h,f as S,g as m,h as _,p as q,i as N,j as F}from"./index-2bb71daf.js";import{_ as M,l as j,r as A}from"./user-134da74d.js";/* empty css                   */import{E as K}from"./request-d319ce4c.js";import"./event-0e1210c4.js";import"./index-943d12f9.js";const D=i=>(q("data-v-81e50ada"),i=i(),N(),i),G={class:"login_base"},H={class:"box"},J=D(()=>g("div",{class:"logo"},[g("img",{src:M,alt:""})],-1)),O={key:0,class:"span"},Q={key:1,class:"span"},W={__name:"LoginPage",setup(i){const B=P(),t=w(!0);R(t,()=>{o.value={username:"",password:"",repassword:""}});const p=w(),o=w({username:"",password:"",repassword:""}),y={username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:5,max:10,message:"用户名必须为5-10为的字符",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"},{validator:(b,e,s)=>{e===o.value?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}],repassword:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15位的非空字符",trigger:"blur"},{validator:(b,e,s)=>{e!==o.value.password?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]},v=async()=>{await p.value.validate(),await j(o.value),B.setToken(!0),K.success("登录成功"),F.push("/")},f=async()=>{await p.value.validate(),await A(o.value),K.success("注册成功"),t.value=!0};return(b,e)=>{const s=z,n=T,V=L,k=U,x=I;return d(),u("div",G,[g("div",H,[J,t.value?(d(),u("div",O,"登录 Tool Box")):(d(),u("div",Q,"注册 Tool Box")),a($,{mode:"out-in"},{default:l(()=>[t.value?(d(),u("div",{key:0,class:"form",style:c({boxShadow:"var(--el-box-shadow-lighter)"})},[a(k,{ref_key:"formRef",ref:p,size:"large",model:o.value,rules:y,"label-position":"top"},{default:l(()=>[a(n,{label:"用户名",prop:"username"},{default:l(()=>[a(s,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.username=r),onKeydown:m(v,["enter"]),placeholder:"请输入用户名"},null,8,["modelValue","onKeydown"])]),_:1}),a(n,{label:"密码",onKeydown:m(v,["enter"]),prop:"password"},{default:l(()=>[a(s,{type:"password",modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1},8,["onKeydown"]),a(n,null,{default:l(()=>[a(V,{type:"primary",size:"large",onClick:v},{default:l(()=>[_(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])],4)):(d(),u("div",{key:1,class:"form",style:c({boxShadow:"var(--el-box-shadow-lighter)"})},[a(k,{ref_key:"formRef",ref:p,size:"large",model:o.value,rules:y,"label-position":"top"},{default:l(()=>[a(n,{label:"用户名",prop:"username"},{default:l(()=>[a(s,{modelValue:o.value.username,"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.username=r),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),a(n,{label:"密码",prop:"password"},{default:l(()=>[a(s,{type:"password",modelValue:o.value.password,"onUpdate:modelValue":e[3]||(e[3]=r=>o.value.password=r),onKeydown:m(f,["enter"]),placeholder:"请输入密码"},null,8,["modelValue","onKeydown"])]),_:1}),a(n,{label:"确认密码",prop:"repassword"},{default:l(()=>[a(s,{type:"password",modelValue:o.value.repassword,"onUpdate:modelValue":e[4]||(e[4]=r=>o.value.repassword=r),onKeydown:m(f,["enter"]),placeholder:"请输入密码"},null,8,["modelValue","onKeydown"])]),_:1}),a(n,null,{default:l(()=>[a(V,{type:"primary",size:"large",onClick:f},{default:l(()=>[_(" 注册 ")]),_:1})]),_:1})]),_:1},8,["model"])],4))]),_:1}),g("div",{class:"reg",style:c({boxShadow:"var(--el-box-shadow-lighter)"})},[t.value?(d(),h(x,{key:0,onClick:e[5]||(e[5]=r=>t.value=!1),icon:S(E),underline:!1},{default:l(()=>[_("前往注册")]),_:1},8,["icon"])):(d(),h(x,{key:1,onClick:e[6]||(e[6]=r=>t.value=!0),icon:S(E),underline:!1},{default:l(()=>[_("前往登录")]),_:1},8,["icon"]))],4)])])}}},ne=C(W,[["__scopeId","data-v-81e50ada"]]);export{ne as default};
