import{$ as C,X as a,M as b,a5 as l,am as M,Z as N,at as O,a9 as A,au as L,w,av as k,aj as m,k as R,b as _,q as f,K as Y}from"./index-2bb71daf.js";import{u as v,K as D,k as E,X as x,j as I,r as H,b as B,d as y}from"./el-button-e63b366d.js";import{t as z}from"./event-0e1210c4.js";import{a as K}from"./scroll-87c3a443.js";const h=(...e)=>t=>{e.forEach(o=>{C(o)?o(t):o.value=t})};var d=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(d||{});function G(e){return a(e)&&e.type===b}function j(e){return a(e)&&e.type===M}function P(e){return a(e)&&!G(e)&&!j(e)}const g=e=>{if(!a(e))return{};const t=e.props||{},o=(a(e.type)?e.type.props:void 0)||{},s={};return Object.keys(o).forEach(n=>{N(o[n],"default")&&(s[n]=o[n].default)}),Object.keys(t).forEach(n=>{s[O(n)]=t[n]}),s},p=e=>{const t=l(e)?e:[e],o=[];return t.forEach(s=>{var n;l(s)?o.push(...p(s)):a(s)&&l(s.children)?o.push(...p(s.children)):(o.push(s),a(s)&&((n=s.component)!=null&&n.subTree)&&o.push(...p(s.component.subTree)))}),o},F=(e,t={})=>{A(e)||z("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||v("popup"),s=L(()=>o.bm("parent","hidden"));if(!D||E(document.body,s.value))return;let n=0,u=!1,r="0";const i=()=>{setTimeout(()=>{H(document==null?void 0:document.body,s.value),u&&document&&(document.body.style.width=r)},200)};w(e,c=>{if(!c){i();return}u=!E(document.body,s.value),u&&(r=document.body.style.width),n=K(o.namespace.value);const T=document.documentElement.clientHeight<document.body.scrollHeight,S=x(document.body,"overflowY");n>0&&(T||S==="scroll")&&u&&(document.body.style.width=`calc(100% - ${n}px)`),I(document.body,s.value)}),k(()=>i())},V=e=>{if(!e)return{onClick:m,onMousedown:m,onMouseup:m};let t=!1,o=!1;return{onClick:r=>{t&&o&&e(r),t=o=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{o=r.target===r.currentTarget}}},U=B({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:y([String,Array,Object])},zIndex:{type:y([String,Number])}}),X={click:e=>e instanceof MouseEvent},W="overlay";var $=R({name:"ElOverlay",props:U,emits:X,setup(e,{slots:t,emit:o}){const s=v(W),n=c=>{o("click",c)},{onClick:u,onMousedown:r,onMouseup:i}=V(e.customMaskEvent?void 0:n);return()=>e.mask?_("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:r,onMouseup:i},[f(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):Y("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[f(t,"default")])}});const ee=$;export{ee as E,d as P,V as a,P as b,h as c,p as f,g,G as i,F as u};
