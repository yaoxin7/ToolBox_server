import{b as P,n as V,d as U,a5 as _,ab as $,J as g,aF as q,g as G,aG as Z,q as B,K as J}from"./el-button-e63b366d.js";import{U as x}from"./event-0e1210c4.js";import{u as K}from"./el-overlay-6734a98a.js";import{r as c,l as D,w as I,P as j,I as H,N as Q}from"./index-2bb71daf.js";const W=P({center:Boolean,alignCenter:Boolean,closeIcon:{type:V},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),le={close:()=>!0},ne=P({...W,appendToBody:Boolean,beforeClose:{type:U(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),te={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[x]:e=>_(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ae=(e,a)=>{const l=Q().emit,{nextZIndex:v}=$();let C="";const F=g(),T=g(),n=c(!1),d=c(!1),i=c(!1),f=c(e.zIndex||v());let s,u;const E=q("namespace",Z),O=D(()=>{const o={},t=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(o[`${t}-margin-top`]=e.top),e.width&&(o[`${t}-width`]=G(e.width))),o}),h=D(()=>e.alignCenter?{display:"flex"}:{});function S(){l("opened")}function k(){l("closed"),l(x,!1),e.destroyOnClose&&(i.value=!1)}function w(){l("close")}function b(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=B(()=>p(),e.openDelay):p()}function r(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=B(()=>m(),e.closeDelay):m()}function y(){function o(t){t||(d.value=!0,n.value=!1)}e.beforeClose?e.beforeClose(o):r()}function A(){e.closeOnClickModal&&y()}function p(){J&&(n.value=!0)}function m(){n.value=!1}function N(){l("openAutoFocus")}function M(){l("closeAutoFocus")}function z(o){var t;((t=o.detail)==null?void 0:t.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&K(n);function L(){e.closeOnPressEscape&&y()}return I(()=>e.modelValue,o=>{o?(d.value=!1,b(),i.value=!0,f.value=e.zIndex?f.value++:v(),j(()=>{l("open"),a.value&&(a.value.scrollTop=0)})):n.value&&r()}),I(()=>e.fullscreen,o=>{a.value&&(o?(C=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=C)}),H(()=>{e.modelValue&&(n.value=!0,i.value=!0,b())}),{afterEnter:S,afterLeave:k,beforeLeave:w,handleClose:y,onModalClick:A,close:r,doClose:m,onOpenAutoFocus:N,onCloseAutoFocus:M,onCloseRequested:L,onFocusoutPrevented:z,titleId:F,bodyId:T,closed:d,style:O,overlayDialogStyle:h,rendered:i,visible:n,zIndex:f}};export{te as a,W as b,le as c,ne as d,ae as u};
